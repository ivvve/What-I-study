# 1장 DDD를 시작하며

버그가 없는 소프트웨어를 만든다 해도 그것이 양질의 소프트웨어 모델을 설계했다는 것을 의미하지는 않는다.

도메인 주도 설계(Domain-Driven Design), 혹은 DDD라고 불리는 소프트웨어 개발의 접근법은 우리가 높은 품질의 소프트웨어 모델을 설계할 수 있도록 해준다.
DDD를 정확하게 구현했을 때, DDD는 우리가 만든 설계가 소프트웨어 동작에 정확히 어떻게 반영되는지를 볼 수 있도록 해준다.

DDD는 전략적인 동시에 전술적인 모델링 도구로서 중요한 비즈니스 목적을 달성시킬 수 있는 양질의 소프트웨어를 설계하게 해줄 것이다.

### 나도 DDD를 할 수 있을까

DDD의 가장 중심에 있는 원리는 토의, 경청, 이해, 발견 그리고 비즈니스의 가치, 모든 지식을 중앙화하는 모든 것이다.

도메인 전문가 역시 당신의 팀원이다.
도메인 전문가 역시 그 비즈니스에 관해 모든 것을 알지는 못하며, 그들도 당신으로부터 배울 가능성이 매우 크다.
당신은 직접적으로 팀원 모두가 비즈니스에 대해 깊게 이해할 수 있게 도와줄 뿐 아니라, 비즈니스를 결정짓게도 할 것이다.

---

**도메인 모델은 무엇인가?**

당신이 일하고 있는 아주 구체적인 비즈니스 도메인에 관한 소프트웨어 모델이다게
이런 객체는 비즈니스적 의미에 정확히 부합하는 이름을 가진 `데이터`와 `행동`을 담고 있다.

---

### 내가 왜 DDD를 해야 할까

- 도메인 전문가와 개발자들의 눈높이를 맞춰줌으로써, 코더에게뿐 아니라 비즈니스 관계에서도 말이 되는 소프트웨어를 만들게 한다. 이를 통해 하나의 응집되고 잘 짜여진 팀이 된다.

- 실제로 비즈니스의 현 상태에 대해 더 알려줄 수 있게 된다. DDD를 통해 비즈니스에 대해 알게되면서 토론에 모든 사람이 기여하게 되면서 모든 사람이 배우게 된다.

- 지식의 중앙화가 핵심이다.

- 팀원 모두가 쓸 줄 아는 공통의 언어를 사용해 당신의 팀이 개발하기 때문에 도메인 전문가와 번역이 필요하지 않다.

- 설계는 코드이며, 코드가 설계다. 설계는 어떻게 작동하는가다.

- DDD는 전략적이고 전술적인 설계를 다룰 수 있는 온전한 소프트웨어 개발 기술을 제공한다.

#### 비즈니스 가치를 제공하는 것은 어려울 수 있다.

진정으로 비즈니스 가치를 제공하는 소프트웨어는 전략적 비즈니스 발의와 뜻을 가치하며 분명히 식별 가능한 경쟁력 있는 이점, 즉 기술에 관한 것이 아닌 비즈니스에 관한 솔루션을 제공한다.

진정한 도메인 전문가는 비즈니스 가치를 제공하는 데 집중한다.

#### DDD가 해줄 수 있는 일

1. DDD는 도메인 전문가와 소프트웨어 개발자가 비즈니스 전문가의 심적 모델을 반영한 소프트웨어를 함께 개발할 수 있게 해준다.

DDD는 비즈니스에 가장 쓸모있는 모델을 제공한다.
이때 사용되는 유비쿼터스 언어는 모든 팀의 동의에 의해 개발되며, 쓰이고, 소프트웨어의 모델에 바로 반영된다.

2. DDD는 비즈니스의 전략적 initiative(계획, 주도)를 다룬다.

전략적 설계의 기술적 측면은 시스템과 비즈니스 문제를 명확하게 결합하는데 목표가 있으며,
각 비즈니스 단계의 서비스를 보호한다.

3. DDD는 실행 가능한 소프트웨어 상품을 분석하고 개발하는 전술적 설계 모델링 도구를 사용해 실제 소프트웨어의 기술적 요구에 응한다.

전술적 설계 도구는 도메인 전문가의 심적 모델이 올바르게 코드화되고, 테스트 가능성이 높고, 오류가 적고, 확장이 가능하고, 분산 컴퓨팅이 가능한 소프트웨어를 만들도록 한다.

#### 도메인의 복잡성과 씨름하기

우선은 DDD를 비즈니스에서 가장 중요한 영역에서부터 사용해나가야 한다.

---

**DDD를 통해 복잡화하지 말고 단순화하라**

DDD를 통해 가능한 한 단순하게 복잡한 도메인을 모델링하라.
절대 DDD로 당신의 솔루션을 더 복잡하게 하지 마라.

설계로부터 구현을 구분하려하지 말아라.
DDD를 수행할 때, 설계는 코드며 코드는 설계다.

### DDD는 어떻게 하는가

#### 유비쿼터스 언어

---

**컨텍스트에 맞는 용어**

바운디드 컨텍스트 같은 경계가 존재하는 이유는 그 경계 안의 해당 도메인 용어, 구, 문장, 즉 유비쿼터스 언어가 특정 컨텍스트의 의미를 띠고 있음을 강조하기 위해서이다.

---

유비쿼터스 언어는 도메인 전문가와 소프트웨어 개발자 모두에 의해 개발되어 공유된 언어다.
그래서 전문가와 개발자가 함께 일하면서 도메인의 모델을 만들 때, 그들은 프로젝트를 위해 가장 좋은 언어를 완성하기 위해 합의와 타협의 과정을 거치며 토론한다.

e.g.) `간호사가 독감 백신을 표준 용량으로 환자에게 투여한다.`

```
Vaccine vaccine = vaccines.standardAdultFliDoes();
nurse.administerFluVaccine(patience, vaccine);
```

어떻게 중요한 유비쿼터스 언어를 정확히 담아내야 할까?
- 물리적이고 개념적인 도메인 그림을 그리고 이름과 행동을 붙여보라.
- 간단한 정의로 구성된 용어집을 만들라.
    - 형식에 얽메이지 말고 소프트웨어의 중요한 개념을 담은 그림을 넣어서 문서의 형태로 남기자.
- 만들어진 구문을 나머지 팀원들과 돌려보며 리뷰하자.

유비쿼터스 언어는 소프트웨어 모델 자체에 특정 핵심 비즈니스 도메인의 개념과 용어를 포착하는데 사용되는 팀의 패턴이다.
소프트웨어 모델은 잘 짜여진 팀에 의해 공식적으로 만들어지고 쓰여지는 명사, 형용사, 동사 그리고 풍부한 표현들을 통합니다.

#### 유비쿼터스지만 보편적이지는 않다.

- `유비쿼터스`라는 단어의 사용은 엔터프라이즈 전체의 보편적인 도메인 언어를 설명하려는 의도는 아니다.
    - 전체 엔터프라이즈에 단일 유비쿼터스 언어를 적용하려 한다면 실패할 것이다.
- 바운디드 컨텍스트당 하나의 유비쿼터스 언어가 있다.
- 바운디드 컨텍스트는 우리가 처음 상상했던 것보다 상대적으로 작다.
- 유비쿼터스 언어는 바운디드 컨텍스트를 격리시키고 그 안에서 프로젝트의 개발 업무를 수행하는 팀 내부에서만 유비쿼터스하다.
- 하나 이상의 바운디드 컨텍스트는 컨텍스트 맵을 사용해 통합된다.
    - 일부 용어가 겹칠지라도, 통합되는 바운디드 컨텍스트 각각은 자신만의 유비쿼터스 언어를 갖고있다.

### DDD를 사용하는 데서 오는 비즈니스 가치

1. 조직이 그 도메인에 유용한 모델을 얻는다.
DDD의 초점은 비즈니스적으로 중요한 곳에 우리의 노력을 투자한다는 점이다.
과도한 모델링을 하지 않으며 핵심 도메인에 초점을 맞춘다.

2. 정교하고 정확하게 비즈니스를 정의하고 이해한다.
시간이 지남에 따라 모델이 점차 정제되면서, 비즈니스적으로 깊이 있는 이해를 형성해가고 이를 분석 도구로 활용할 수 있게 된다.

3. 도메인 전문가가 소프트웨어 설계에 기여한다.
DDD를 위해 모두가 모였을 때, 이 도메인 전문가 사이에 의견의 일치를 얻게된다.

4. 사용자 경험이 개선된다.
도메인 주도가 정형적으로 **스며들어**, 사람이 소프트웨어를 사용하는 데 영향을 미친다.

5. 순수한 모델 주변에 명확한 경계가 생긴다.

6. 엔터프라이즈 아키텍처의 구성이 좋아진다.
바운디드 컨텍스트를 잘 이해하고 신중하게 분할한 경우, 엔터프라이즈 내의 모든 팀은 어디서 왜 통합이 필요한지 분명하게 이해하게 된다.

7. 애자일하고, 반복적이고, 지속적인 모델링이 사용된다.

82p 부터